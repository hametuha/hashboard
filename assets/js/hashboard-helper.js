"use strict";!function(e){var a=window.Hashboard||{},t={},n=function(){e("#hb-side-nav").height(window.innerHeight)};e(document).ready(function(){n(),e("#hb-side-nav").addClass("initialized")});var s=null;e(window).on("resize",function(){s&&clearTimeout(s),s=setTimeout(function(){n()},10)}),e(document).on("click",".side-nav-toggle",function(a){e(e(this).attr("data-target")).toggleClass("open");var t=e(".hb-sidebar-backdrop");if(t.length)t.remove();else{var n='\n          <div class="hb-sidebar-backdrop">\n            <button type="button" class="d-md-none side-nav-toggle" data-target="#hb-side-nav">\n                <i class="material-icons">close</i>\n            </button>\n          </div>\n        ';e("body").append(n)}}),e(document).on("click",".hb-sidebar-backdrop",function(a){e(this).find(".side-nav-toggle").trigger("click")}),e(document).on("click",".hb-submenu-trigger",function(a){a.preventDefault(),e(this).parents(".hb-menu-item").toggleClass("toggle")}),e(document).on("change",".hb-form input[type=file]",function(a){var n=e(this).attr("name");if(!this.files.length)return void(t[n]&&(t[n]=null));var s=new FileReader;s.onload=function(e){t[n]=e.target.result},s.readAsDataURL(this.files[0])}),e(document).on("submit",".hb-form",function(n){n.preventDefault();var s=e(this),i=s.attr("method").toUpperCase(),o=s.attr("action"),r={};s.find("input,select,textarea").each(function(a,n){var s=e(n);if(!s.attr("name"))return!0;switch(e(n).attr("type")){case"checkbox":case"radio":s.attr("checked")&&(r[s.attr("name")]=s.val());break;case"file":r[s.attr("name")]=t[s.attr("name")];break;default:r[s.attr("name")]=s.val()}}),s.addClass("loading"),e.hbRest(i,o,r).done(function(t){a.toast('<span><i class="material-icons success">done</i>'+t.message+"</span>",4e3),e(document).trigger("updated.form.hashboard",[s,t])}).fail(function(e){a.toast('<span><i class="material-icons error">error</i>'+e.responseJSON.message+"</span>",4e3)}).always(function(){s.removeClass("loading")})}),e(document).on("updated.form.hashboard",function(e,a,t){switch(a.attr("id")){case"form-picture":a.find(".avatar").attr("src",t.avatar_url),a.get(0).reset()}}),e(document).on("click",".hb-mail-resend, .hb-mail-cancel",function(t){t.preventDefault();var n=e(this),s=n.hasClass("hb-mail-resend")?"PUT":"DELETE",i=n.parents("form");i.addClass("loading"),e.hbRest(s,e(this).attr("href")).done(function(e){"DELETE"===s&&n.parents(".hb-warning").remove(),a.toast('<span><i class="material-icons success">done</i>'+e.message+"</span>",4e3)}).fail(function(e){a.toast('<span><i class="material-icons error">error</i>'+e.responseJSON.message+"</span>",4e3)}).always(function(){i.removeClass("loading")})});var i=function(a){var t=a.find(".hb-status-display");if(t.length){var n=t.attr("data-endpoint");n&&(t.addClass("loading loading-small"),e.hbRest("GET",n).done(function(e){t.removeClass("success error"),e.success?t.addClass("success"):t.addClass("error"),t.text(e.message)}).fail(function(e){t.addClass("error"),e.responseJSON.message&&t.text(e.responseJSON.message)}).always(function(){t.removeClass("loading loading-small")}))}};e(document).on("updated.form.hashboard",function(e,a,t){i(a)}),e(document).ready(function(){e(".hb-form").each(function(a,t){i(e(t))})})}(jQuery);
//# sourceMappingURL=map/hashboard-helper.js.map
