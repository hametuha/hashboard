{"version":3,"sources":["hashboard-rest.js"],"names":["$","extend","hbRest","method","url","data","toUpperCase","args","beforeSend","xhr","setRequestHeader","HashRest","nonce","query","prop","hasOwnProperty","push","encodeURIComponent","length","join","ajax","hbRestError","response","msg","error","responseJSON","message","Materialize","toast","jQuery"],"mappings":"CAGA,SAAWA,GAET,YAEAA,GAAEC,QAUAC,OAAQ,SAAUC,EAAQC,EAAKC,GAC7BF,EAASA,EAAOG,aAChB,IAAIC,IACFJ,OAAQA,EACRK,WAAY,SAAUC,GACpBA,EAAIC,iBAAiB,aAAcC,SAASC,QAGhD,IAAIP,EACF,OAAQF,GACN,IAAK,MACL,IAAK,OACL,IAAK,OACHI,EAAKF,KAAOA,CACZ,MACF,SACE,GAAIQ,KACJ,KAAK,GAAIC,KAAQT,GACXA,EAAKU,eAAeD,IACtBD,EAAMG,KAAKF,EAAO,IAAMG,mBAAmBZ,EAAKS,IAGhDD,GAAMK,SACRd,GAAO,IAAMS,EAAMM,KAAK,MAMhC,MADAZ,GAAKH,IAAMA,EACJJ,EAAEoB,KAAKb,IAEhBc,YAAa,WACX,MAAO,UAASC,GACd,GAAIC,GAAMZ,SAASa,KACfF,GAASG,cAAgBH,EAASG,aAAaC,UACjDH,EAAMD,EAASG,aAAaC,SAE9BC,YAAYC,MAAM,4CAA8CL,EAAK,UAM1EM","file":"../hashboard-rest.js","sourcesContent":["/*global HashRest: false*/\n/*global Materialize: false*/\n\n(function ($) {\n\n  'use strict';\n\n  $.extend({\n    /**\n     * Short hand for rest API\n     *\n     * @scope {jQuery}\n     * @param {String} method\n     * @param {String} url\n     * @param {Object} data\n     * @param {Boolean} processData\n     */\n    hbRest: function (method, url, data) {\n      method = method.toUpperCase();\n      var args = {\n        method: method,\n        beforeSend: function (xhr) {\n          xhr.setRequestHeader('X-WP-Nonce', HashRest.nonce);\n        }\n      };\n      if (data) {\n        switch (method) {\n          case 'PUT':\n          case 'POST':\n          case 'PUSH':\n            args.data = data;\n            break;\n          default:\n            var query = [];\n            for (var prop in data) {\n              if (data.hasOwnProperty(prop)) {\n                query.push(prop + '=' + encodeURIComponent(data[prop]));\n              }\n            }\n            if (query.length) {\n              url += '?' + query.join('&');\n            }\n            break;\n        }\n      }\n      args.url = url;\n      return $.ajax(args);\n    },\n    hbRestError: function () {\n      return function(response) {\n        var msg = HashRest.error;\n        if (response.responseJSON && response.responseJSON.message) {\n          msg = response.responseJSON.message;\n        }\n        Materialize.toast('<i class=\"material-icons error\">close</i>' + msg, 4000);\n      };\n    }\n  });\n\n\n})(jQuery);\n"]}