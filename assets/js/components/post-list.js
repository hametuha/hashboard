"use strict";/*!
 * List of posts.
 *
 * wpdeps=vue-js,hb-components-loading,hashboard, hb-filters-moment
 */
!function(t){Vue.component("hb-post-list",{template:'\n      <div class="hb-post-list">\n        <p class="hb-post-list-title" v-if="title">{{title}}</p>\n        <ul class="hb-post-list-list" v-if="posts">\n            <li v-for="post in posts" class="hb-post-list-item">\n                <a :href="post.link" class="hb-post-list-link">\n                    <span class="hb-post-list-title">{{post.title.rendered}}</span>\n                    <span class="hb-post-list-date">{{post.date | moment(\'ll\')}}</span>\n                    <span v-if="isNew(post.date_gmt, \'Z\')" class="hb-post-list-new material-icons">fiber_new</span>\n                </a>\n            </li>\n        </ul>\n        <a :href="moreButton" class="btn btn-block btn-secondary">{{moreLabel}}</a>\n        <hb-loading :loading="loading"></hb-loading>\n      </div>\n    ',data:function(){return{loading:!0,posts:[]}},props:{title:{type:String,"default":""},postType:{type:String,"default":"post"},moreButton:{type:String,"default":""},moreLabel:{type:String,"default":"READ MORE"},"new":{type:String,"default":"0"},max:{type:String,"default":"3"},author:{type:String,"default":"0"}},mounted:function(){this.fetch(),console.log(this.isNew("2017-08-16T19:00:00",""))},computed:{},methods:{isNew:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Z",n=parseInt(this["new"],10);if(isNaN(n)||n<1)return!1;var e=moment().subtract(n,"days").toDate(),i=moment(t+s).toDate();return i>e},number:function(t){return"Number"===this[t]?this[t]:parseInt(this[t],10)},fetch:function(){var s=this;this.loading=!0;var n={per_page:this.number("max")},e=this.number("author");e&&(n["author[]"]=e),t.hbRest("GET","wp/v2/"+this.postType,n).done(function(t){s.posts=t}).fail(t.hbRestError()).always(function(){s.$emit("post-list-updated"),s.loading=!1})}}})}(jQuery);
//# sourceMappingURL=../map/components/post-list.js.map
