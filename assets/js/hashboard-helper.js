!function(e){"use strict";const t=window.Hashboard||{},a={};e(document).on("click",".side-nav-toggle",function(t){e(e(this).attr("data-target")).toggleClass("open");const a=e(".hb-sidebar-backdrop");if(a.length)a.remove();else{const t='\n          <div class="hb-sidebar-backdrop">\n            <button type="button" class="d-md-none side-nav-toggle" data-target="#hb-side-nav">\n                <i class="material-icons">close</i>\n            </button>\n          </div>\n        ';e("body").append(t)}}),e(document).on("click",".hb-sidebar-backdrop",function(t){e(this).find(".side-nav-toggle").trigger("click")}),e(document).on("click",".hb-submenu-trigger",function(t){t.preventDefault(),e(this).parents(".hb-menu-item").toggleClass("toggle")}),e(document).on("change",".hb-form input[type=file]",function(t){const n=e(this).attr("name");if(!this.files.length)return void(a[n]&&(a[n]=null));const s=new FileReader;s.onload=function(e){a[n]=e.target.result},s.readAsDataURL(this.files[0])}),e(document).on("submit",".hb-form",function(n){n.preventDefault();const s=e(this),o=s.attr("method").toUpperCase(),i=s.attr("action"),r={};s.find("input,select,textarea").each(function(t,n){const s=e(n);if(!s.attr("name"))return!0;switch(e(n).attr("type")){case"checkbox":case"radio":s.attr("checked")&&(r[s.attr("name")]=s.val());break;case"file":r[s.attr("name")]=a[s.attr("name")];break;default:r[s.attr("name")]=s.val()}}),s.addClass("loading"),e.hbRest(o,i,r).done(function(a){t.toast('<span><i class="material-icons success">done</i>'+a.message+"</span>",4e3),e(document).trigger("updated.form.hashboard",[s,a])}).fail(function(e){t.toast('<span><i class="material-icons error">error</i>'+e.responseJSON.message+"</span>",4e3)}).always(function(){s.removeClass("loading")})}),e(document).on("updated.form.hashboard",function(e,t,a){"form-picture"===t.attr("id")&&(t.find(".avatar").attr("src",a.avatar_url),t.get(0).reset())}),e(document).on("click",".hb-mail-resend, .hb-mail-cancel",function(a){a.preventDefault();const n=e(this),s=n.hasClass("hb-mail-resend")?"PUT":"DELETE",o=n.parents("form");o.addClass("loading"),e.hbRest(s,e(this).attr("href")).done(function(e){"DELETE"===s&&n.parents(".hb-warning").remove(),t.toast('<span><i class="material-icons success">done</i>'+e.message+"</span>",4e3)}).fail(function(e){t.toast('<span><i class="material-icons error">error</i>'+e.responseJSON.message+"</span>",4e3)}).always(function(){o.removeClass("loading")})});const n=function(t){const a=t.find(".hb-status-display");if(!a.length)return;const n=a.attr("data-endpoint");n&&(a.addClass("loading loading-small"),e.hbRest("GET",n).done(function(e){a.removeClass("success error"),e.success?a.addClass("success"):a.addClass("error"),a.text(e.message)}).fail(function(e){a.addClass("error"),e.responseJSON.message&&a.text(e.responseJSON.message)}).always(function(){a.removeClass("loading loading-small")}))};e(document).on("updated.form.hashboard",function(e,t,a){n(t)}),e(document).ready(function(){e(".hb-form").each(function(t,a){n(e(a))})})}(jQuery);